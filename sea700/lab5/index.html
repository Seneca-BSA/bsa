<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Lab 5 : Robotic Arm and SLAM - BSA Lab Manuals</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Lab 5 : Robotic Arm and SLAM";
        var mkdocs_page_input_path = "sea700\\lab5.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> BSA Lab Manuals
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Lab Manuals</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ses250/">SES250 Electromagnatics</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../seh500/">SEH500 Microprocessors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../sep600/">SEP600 Embedded Systems</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">SEA700 Robotics</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">BSA Lab Manuals</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Lab 5 : Robotic Arm and SLAM</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="lab-5-robotic-arm-and-slam">Lab 5 : Robotic Arm and SLAM</h1>
<p><font size="5">
Seneca Polytechnic</br>
SEA700 Robotics for Software Engineers
</font></p>
<h2 id="forward-kinematics">Forward Kinematics</h2>
<p>As discussed in lecture, the forward kinematics problem involves fnding the confguration of a specifed link in a
robotic manipulator relative to some other reference frame, given the angles of each of the joints in the manipulator.</p>
<h3 id="denavithartenberg-dh-parameters">Denavit–Hartenberg (DH) Parameters</h3>
<p>In mechanical engineering, the Denavit–Hartenberg parameters (also called DH parameters) are the four parameters associated with a particular convention for attaching reference frames to the links of a spatial kinematic chain, or robot manipulator. In this convention, coordinate frames are attached to the joints between two links such that one transformation is associated with the joint <script type="math/tex">[Z]</script>, and the second is associated with the link <script type="math/tex">[X]</script>. The coordinate transformations along a serial robot consisting of n links form the kinematics equations of the robot:</p>
<p>
<script type="math/tex; mode=display">
[T] = [Z_1][X_1][Z_2][X_2]...[Z_{n-1}][X_{n-1}][Z_n][X_n]
</script>
</p>
<p>where <script type="math/tex">[T]</script> is the transformation that characterizes the location and orientation of the end-link.</p>
<p><img alt="Figure 5.1 DH Kinematics Links" src="../lab5-dh-kinematics-links.png" /></p>
<p><em><strong>Figure 5.1</strong> DH Kinematics Links</em></p>
<p>As shown in the figure above, each joints (i-1, i, and i+1) has a unique line <script type="math/tex">S</script> (shown as dotted line in the figure above) in space that forms the joint axis and define the relative movement of its two links. For each sequence of lines <script type="math/tex">S_i</script> and <script type="math/tex">S+{i+1}</script>, there is a common normal line <script type="math/tex">A_{i, i+1}</script>. By convention, z-coordinate axes are assigned to the joint axes <script type="math/tex">S_i</script> and x-coordinate axes are assigned to the common normals <script type="math/tex">A_{i, i+1}</script>.</p>
<blockquote>
<h4 id="four-parameters">Four Parameters</h4>
<p>The following four transformation parameters (labelled in red text in the figure above) are known as the DH parameters:</p>
<ul>
<li>d: offset along <script type="math/tex">S_i</script> (z-direciton) to the next common normal <script type="math/tex">A_{i, i+1}</script> (x-direction)</li>
<li>θ: angle about <script type="math/tex">S_i</script> from old common normal <script type="math/tex">A_{i-1, i}</script> to the new common normal <script type="math/tex">A_{i, i+1}</script>
</li>
<li>a (or r): length of the common normal from <script type="math/tex">S_i</script> to <script type="math/tex">S_{i+1}</script>
</li>
<li>α: angle about common normal <script type="math/tex">A_{i-1, i}</script>, from old axis <script type="math/tex">S_i</script> to new axis <script type="math/tex">S_{i+1}</script>
</li>
</ul>
</blockquote>
<p>This convention allows the definition of the movement of links around a common joint axis <script type="math/tex">S_i</script> by the screw displacement:</p>
<p>
<script type="math/tex; mode=display">
[Z_i] =
\begin{bmatrix}
   cos \theta_i & -sin \theta_i & 0 & 0 \\
   sin \theta_i & cos \theta_i & 0 & 0 \\
   0 & 0 & 1 & d_i \\
   0 & 0 & 0 & 1
\end{bmatrix}
</script>
</p>
<p>Each of these parameters could be a constant depending on the structure of the robot. Under this convention the dimensions of each link in the serial chain are defined by the screw displacement around the common normal <script type="math/tex">A_{i, i+1}</script> from the joint <script type="math/tex">S_i</script> to <script type="math/tex">S_{i+1}</script>, which is given by:</p>
<p>
<script type="math/tex; mode=display">
[X_i] =
\begin{bmatrix}
   1 & 0 & 0 & a_{i, i+1} \\
   0 & cos \alpha_{i, i+1} & -sin \alpha_{i, i+1} & 0 \\
   0 & sin \alpha_{i, i+1} & cos \alpha_{i, i+1} & 0 \\
   0 & 0 & 0 & 1
\end{bmatrix}
</script>
</p>
<p>where <script type="math/tex">\alpha_{i, i+1}</script> and <script type="math/tex">a_{i, i+1}</script> define the physical dimensions of the link in terms of the angle measured around and distance measured along the x-axis.</p>
<h3 id="jetauto-arm-forward-kinematics">JetAuto Arm Forward Kinematics</h3>
<p><img alt="Figure 5.2 JetAuto Arm Links" src="../lab5-jetauto-kinematics.png" /></p>
<p><em><strong>Figure 5.2</strong> JetAuto Arm Links</em></p>
<p>The figure above shows the kinematic link diagram of the JetAuto arm. Joint-1 is a rotary joint about the global z-axis and Joints 2-4 are rotary joint about their respective joint axis. Let's create the DH parameters table for the first two joints:</p>
<ul>
<li>Joint-1 is a rotation joint about the joint axis (global z-axis). Therefore, only <script type="math/tex">\theta_1</script> is non-zero. We can assume that Joint-1 is at the same position as Joint-0.</li>
<li>Joint-2 is a rotation joint with a distance, <script type="math/tex">d</script>, from Joint-1 and 90° between the Joint-2 and Joint-1 axis. Therefore, <script type="math/tex">\alpha_2 = 90°</script>. It will also have a rotation about the Joint-2 axis, <script type="math/tex">\theta_2</script>.</li>
</ul>
<p>Putting this all together yield the following DH parameters table:</p>
<p><em><strong>Table 5.1</strong> JetAuto DH Parameters Table</em></p>
<table>
<thead>
<tr>
<th>DH#</th>
<th>d</th>
<th>θ</th>
<th>a</th>
<th>α</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
<td>
<script type="math/tex">\theta_1</script>
</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>
<script type="math/tex">d</script>
</td>
<td>
<script type="math/tex">\theta_2</script>
</td>
<td>0</td>
<td>
<script type="math/tex">\pi / 2</script>
</td>
</tr>
<tr>
<td>3</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="ros-moveit">ROS MoveIt</h1>
<p>ROS MoveIt is a powerful software framework designed for robot motion planning and manipulation within the Robot Operating System (ROS) ecosystem. It provides a robust set of tools and libraries that enable developers to implement complex motion planning algorithms, manage robot kinematics, and execute real-time motion tasks. With features such as collision detection, trajectory optimization, and support for various robotic platforms, MoveIt simplifies the process of programming robots to perform intricate movements. Its flexibility and extensibility make it a popular choice for both research and industrial applications, allowing users to create sophisticated robotic solutions tailored to specific needs.</p>
<p><img alt="Figure 5.3 ROS MoveIt" src="../lab5-moveit.png" /></p>
<p><em><strong>Figure 5.3</strong> ROS MoveIt</em></p>
<p>More details on MoveIt can be found <a href="https://docs.ros.org/en/melodic/api/moveit_tutorials/html/index.html">here</a>.</p>
<h3 id="jetauto-robot-arm-control">JetAuto Robot Arm Control</h3>
<ol>
<li>
<p>Before controlling JetAuto's robot arm, let make sure we have all the package necessary installed. We'll also install the GMapping package for the second part of this Lab. Open a terminal and run the following command:</p>
<p>sudo apt install ros-melodic-moveit ros-melodic-trac-ik-kinematics-plugin ros-melodic-slam-gmapping ros-melodic-map-server ros-melodic-amcl  ros-melodic-move-base</p>
</li>
<li>
<p>Following Chapter 15.2 Lesson 2, 3, 5, 6, 7, 8 in <a href="https://drive.google.com/drive/folders/16pwHYO8rK-22oAzStc7-olP9Weq7AbzY">JetAuto &amp; JetAuto Pro Resources</a>. Use the following command to start MoveIt with Gazebo instead of the instruction provided.</p>
<p>roslaunch jetauto_moveit_config demo_gazebo.launch false_execution:=false</p>
</li>
</ol>
<h3 id="jetauto-slam">JetAuto SLAM</h3>
<ol>
<li>Following Chapter 7.2 Lesson 6, 7 in <a href="https://drive.google.com/drive/folders/16pwHYO8rK-22oAzStc7-olP9Weq7AbzY">JetAuto &amp; JetAuto Pro Resources</a>. Use the following command to start MoveIt with Gazebo instead of the instruction provided. You might need to manually open the config file from</li>
</ol>
<h2 id="lab-question">Lab Question</h2>
<ol>
<li>
<p>Find the Cartesian coordinate of the end effector if:</p>
</li>
<li>
<p>
<script type="math/tex">\theta_1 = 45</script>
</p>
</li>
<li>
<script type="math/tex">\theta_2 = -30</script>
</li>
<li>
<script type="math/tex">\theta_3 = 85</script>
</li>
<li>
<p>
<script type="math/tex">\theta_4 = 25</script>
</p>
</li>
<li>
<p>Write a program that will move the robot arm to the above position.</p>
</li>
<li>
<p>Use SLAM to create and save a map of the class room. Afterward, demostrate navigating from one corner of the class to another.</p>
</li>
</ol>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Denavit%E2%80%93Hartenberg_parameters">Denavit–Hartenberg parameters</a></li>
<li><a href="https://wiki.ros.org/ROS/Tutorials">ROS Tutorials</a></li>
<li>EECS 106A Labs</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
